<html>
<head>
  <meta charset="utf-8">
	<title>System Monitor</title>
  <style>
.header {
  text-align: center;
  background: #0B1E33;
  color: white;
  font-size: 15px;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
  sans-serif;
}
body {background-color: #f5f5f5;}
.button {
  background-color: white;
  border: 2px solid #e7e7e7;
  color: black;
  padding: 8px 16px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 16px;
  margin: 4px 2px;
  transition-duration: 0.4s;
  cursor: pointer;
}
.button:hover {background-color: #e7e7e7;}
  </style>
</head>
<body>
  <div class="header">
    <h2>åˆ†æ•£å¼ç³»çµ±æœŸæœ«å°ˆé¡Œ</h2>
    <h1>System Monitor</h1>
  </div>

  <div style="text-align:center;font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
  sans-serif;">
  <p id="istatus">IPFSåŠŸèƒ½ æœå‹™ç‹€æ…‹: loading...</p>
  <p id="iwait">IPFSåŠŸèƒ½ å¾…è™•ç†è³‡æ–™ç­†æ•¸: loading...</p>
  <br>
  <p id="cstatus">å‘¼å«åˆç´„ æœå‹™ç‹€æ…‹: loading...</p>
  <p id="cwait">å‘¼å«åˆç´„ å¾…è™•ç†è³‡æ–™ç­†æ•¸: loading...</p>
  <br>
  <p id="dstatus">éƒ¨ç½²åˆç´„ æœå‹™ç‹€æ…‹: loading...</p>
  <p id="dwait">éƒ¨ç½²åˆç´„ å¾…è™•ç†è³‡æ–™ç­†æ•¸: loading...</p>
  <br>
  <br>
  <p id="dwait">æ¯3ç§’è‡ªå‹•æ›´æ–°...</p>
  <!-- <button class="button" id="submit" type="button" onclick="submit()">Refresh Status</button> -->
</div>

</body>

<script>

    var wait = setInterval(function() {
        fetch("https://nftipfs.herokuapp.com/monitor")
    .then((response) => {
      return response.json()
    })
    .then((data) => {
          //éƒ¨ç½²æˆåŠŸ result æ˜¯åˆç´„åœ°å€
          if(data.ipfs==1){
            document.getElementById("istatus").innerHTML = "IPFSåŠŸèƒ½ æœå‹™ç‹€æ…‹: ğŸŸ¢æ­£å¸¸é‹ä½œ";
          }else{
            document.getElementById("istatus").innerHTML = "IPFSåŠŸèƒ½ æœå‹™ç‹€æ…‹: ğŸ”´æœå‹™ä¸­æ–·";
          }
          if(data.contract==1){
            document.getElementById("cstatus").innerHTML = "å‘¼å«åˆç´„ æœå‹™ç‹€æ…‹: ğŸŸ¢æ­£å¸¸é‹ä½œ";
            document.getElementById("dstatus").innerHTML = "éƒ¨ç½²åˆç´„ æœå‹™ç‹€æ…‹: ğŸŸ¢æ­£å¸¸é‹ä½œ";
          }else{
            document.getElementById("cstatus").innerHTML = "å‘¼å«åˆç´„ æœå‹™ç‹€æ…‹: ğŸ”´æœå‹™ä¸­æ–·";
            document.getElementById("dstatus").innerHTML = "éƒ¨ç½²åˆç´„ æœå‹™ç‹€æ…‹: ğŸ”´æœå‹™ä¸­æ–·";
          }
          document.getElementById("iwait").innerHTML = "IPFSåŠŸèƒ½ å¾…è™•ç†è³‡æ–™ç­†æ•¸: "+data.iwait;
          document.getElementById("dwait").innerHTML = "éƒ¨ç½²åˆç´„ å¾…è™•ç†è³‡æ–™ç­†æ•¸: "+data.dwait;
          document.getElementById("cwait").innerHTML = "å‘¼å«åˆç´„ å¾…è™•ç†è³‡æ–™ç­†æ•¸: "+data.cwait;

          //clearInterval(wait)
    })
    .catch((err) => {

      
    });
}, 3000);
</script>
  
</html>
